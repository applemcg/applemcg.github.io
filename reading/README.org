#+TITLE:   My Reading Notebook
#+INCLUDE: orgheader.org

* My Reading Notebook

Here is my [[https://applemcg.github.io/reading][Online Reading Notebook]].  The copy is edited from the
[[https://tiddlywiki.com/static/TiddlyDesktop.html][Tiddly Desktop app]], where the file is [[./index.html][located here (note the file:
prefix)]], but please don't edit it directly thru a browser or a text
editor.

** Purpose

The diary exists to support the MIT Club of Princeton's Book Club, which
I moderate.   From the Home Page of the Online Reading Diary, go to the 
//TableOfContents//, and from the the //MIT Book Club//.  The outline
presents:

+ Reading Lists
+ Next Book
+ Latest Book, 
+ Working the Mail (soon to be obsolete)

The page was started to connect my [[https://www.librarything.com/catalog.php?view=applemcg&collection=-1&shelf=list&sort=dateread&sort=dateread][Library Thing]] account to my writing
home; this is one of the four chapters in what I call my [[https://applemcg.github.io/reading/#The%20Family%20Circle][Family Circle]].
The chapters are:

+ My Idea Warehouse, which started it all, a daily diary,
+ Time to Get Liberal, a blog which started in the early '00s, and was
  resuscitated out of great need,
+ My Reading Notebook, i.e. this story, and my professional interests with
+ Shell Functions. Follow the previous links.

It seems going forward, the Library Thing account is the catalogue,
the directory, and My Reading Notebook will be where the story
develops.  For example, I'll routinely update the [[file:///Users/martymcgowan/Dropbox/git/applemcg.github.io/reading/index.html#On%20My%20Nightstand][On My Nightstand]]
table.  The **page* column there contains a page number, or if an
e-book where the equivalent page is not available, then either a
location (l) or chapter (ch) prefix.

This README exists then to organize the tools I use from the data
tables here to update the Online Reading Notebook and local content
here as well.

** Operation

The frequently update On My Nightstand reports

+ the most recent reading date,
+ the page tally to date,
+ the Author, and
+ the Title 

The input tables:

** command repository


#+BEGIN_SRC 

i_timeDate      () { row '!delete_time' | rdb_iDate | rename i_date ${1:-i_date} | ncolumn  {insert,delete}_time; } ; qf i_timeDate

link_authorBook () { set -- ${1:-four}; tiddlylink author | tiddlylink book | ${1}ColumnTiddly; };  qf link_authorBookw

onMyNightstand () { zcat .hry/book_page.rdb.Z | i_timeDate latest | jointable -1 book -2 book - author_book.rdb  | column latest  page author book  | sorttable | link_authorBook; }; qf onMyNightstand

set -- "Last Bus" ; read_history |  row "book ~ /$1/" | rdb_iDate |  | sorttable -r i_date | select_first i_date | ncolumn {insert,delete}_time

book_pages () { read_history |  row "book ~ /$1/" | rdb_iDate | sorttable -r i_date | select_first i_date | column i_date page book | sorttable; }; qf book_pages

zcat .hry/book_page.rdb.Z | sorttable -r | select_first book | column delete_time book | sorttable |  j


#+END_SRC






** References

+ [[https://applemcg.github.io/reading][Online Reading Notebook]].  
+ [[https://tiddlywiki.com/static/TiddlyDesktop.html][Tiddly Desktop app]]
+ [[https://www.librarything.com/catalog.php?view=applemcg&collection=-1&shelf=list&sort=dateread&sort=dateread][Library Thing]]
